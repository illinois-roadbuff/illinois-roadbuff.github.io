import{k as u,i as _,l as v,c,o as n,a as e,q as m,z as f,A as k,F as d,r as y,t as o,y as C,f as E,g as b}from"./CB6tsssF.js";const M={class:"search-bar RG2014EEM"},w={class:"writing-grid"},x=["onClick"],G=["src","alt"],L={class:"writing-meta RG2014EM"},R={class:"author RG2014EEM"},g={class:"snippet RG2014EEM"},B={class:"author RG2014EEM"},$=["src"],F={__name:"CivilGallery",setup(p){const r=u([]),a=u(null),i=u("");_(async()=>{try{const l=await fetch("/lists/civil-list.json");if(!l.ok)throw new Error("Failed to load writings list");r.value=await l.json()}catch(l){console.error(l)}});const h=v(()=>{if(!i.value.trim())return r.value;const l=i.value.toLowerCase();return r.value.filter(t=>t.title.toLowerCase().includes(l)||t.author.toLowerCase().includes(l)||t.snippet&&t.snippet.toLowerCase().includes(l))});return(l,t)=>(n(),c(d,null,[e("div",M,[f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.value=s),type:"text",placeholder:"Search by title, author...","aria-label":"Search"},null,512),[[k,i.value]])]),e("div",w,[(n(!0),c(d,null,y(h.value,s=>(n(),c("div",{class:"writing-card",key:s.id,onClick:S=>a.value=s},[e("img",{src:s.thumbnail,alt:s.title,class:"thumbnail"},null,8,G),e("div",L,[e("h3",null,o(s.title),1),e("p",R,"— "+o(s.author),1),e("p",g,o(s.snippet),1)])],8,x))),128))]),a.value?(n(),c("div",{key:0,class:"modal",onClick:t[2]||(t[2]=C(s=>a.value=null,["self"]))},[e("button",{class:"close-btn",onClick:t[1]||(t[1]=s=>a.value=null)},"×"),e("h2",null,o(a.value.title),1),e("p",B,"— "+o(a.value.author),1),e("embed",{src:a.value.pdfUrl,type:"application/pdf",width:"90%",height:"600px"},null,8,$)])):m("",!0)],64))}},j=E({__name:"index",setup(p){return(r,a)=>(n(),b(F))}});export{j as default};
