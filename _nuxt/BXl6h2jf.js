import{j as u,i as v,k as _,c,o as n,a as e,s as m,v as f,x as C,F as d,r as k,t as o,C as E,f as y,g as b}from"./lVWhFM3f.js";const x={class:"search-bar RG2014EEM"},M={class:"writing-grid"},w=["onClick"],G=["src","alt"],L={class:"writing-meta RG2014EM"},R={class:"author RG2014EEM"},g={class:"snippet RG2014EEM"},B={class:"author RG2014EEM"},$=["src"],j={__name:"CivilGallery",setup(p){const r=u([]),a=u(null),i=u("");v(async()=>{try{const l=await fetch("/lists/civil-list.json");if(!l.ok)throw new Error("Failed to load writings list");r.value=await l.json()}catch(l){console.error(l)}});const h=_(()=>{if(!i.value.trim())return r.value;const l=i.value.toLowerCase();return r.value.filter(t=>t.title.toLowerCase().includes(l)||t.author.toLowerCase().includes(l)||t.snippet&&t.snippet.toLowerCase().includes(l))});return(l,t)=>(n(),c(d,null,[e("div",x,[f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.value=s),type:"text",placeholder:"Search by title, author...","aria-label":"Search"},null,512),[[C,i.value]])]),e("div",M,[(n(!0),c(d,null,k(h.value,s=>(n(),c("div",{class:"writing-card",key:s.id,onClick:F=>a.value=s},[e("img",{src:s.thumbnail,alt:s.title,class:"thumbnail"},null,8,G),e("div",L,[e("h3",null,o(s.title),1),e("p",R,"— "+o(s.author),1),e("p",g,o(s.snippet),1)])],8,w))),128))]),a.value?(n(),c("div",{key:0,class:"modal",onClick:t[2]||(t[2]=E(s=>a.value=null,["self"]))},[e("button",{class:"close-btn",onClick:t[1]||(t[1]=s=>a.value=null)},"×"),e("h2",null,o(a.value.title),1),e("p",B,"— "+o(a.value.author),1),e("embed",{src:a.value.pdfUrl,type:"application/pdf",width:"90%",height:"600px"},null,8,$)])):m("",!0)],64))}},V=y({__name:"index",setup(p){return(r,a)=>(n(),b(j))}});export{V as default};
