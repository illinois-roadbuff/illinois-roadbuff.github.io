import{p as u,m as _,q as v,c,o as n,a as e,z as m,D as f,E as C,F as d,r as E,t as o,C as k,j as y,k as b}from"./C3tsuDf7.js";const M={class:"search-bar RG2014EEM"},w={class:"writing-grid"},x=["onClick"],G=["src","alt"],L={class:"writing-meta RG2014EM"},R={class:"author RG2014EEM"},B={class:"snippet RG2014EEM"},$={class:"author RG2014EEM"},g=["src"],j={__name:"CivilGallery",setup(p){const r=u([]),a=u(null),i=u("");_(async()=>{try{const l=await fetch("/lists/civil-list.json");if(!l.ok)throw new Error("Failed to load writings list");r.value=await l.json()}catch(l){console.error(l)}});const h=v(()=>{if(!i.value.trim())return r.value;const l=i.value.toLowerCase();return r.value.filter(t=>t.title.toLowerCase().includes(l)||t.author.toLowerCase().includes(l)||t.snippet&&t.snippet.toLowerCase().includes(l))});return(l,t)=>(n(),c(d,null,[e("div",M,[f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.value=s),type:"text",placeholder:"Search by title, author...","aria-label":"Search"},null,512),[[C,i.value]])]),e("div",w,[(n(!0),c(d,null,E(h.value,s=>(n(),c("div",{class:"writing-card",key:s.id,onClick:D=>a.value=s},[e("img",{src:s.thumbnail,alt:s.title,class:"thumbnail"},null,8,G),e("div",L,[e("h3",null,o(s.title),1),e("p",R,"— "+o(s.author),1),e("p",B,o(s.snippet),1)])],8,x))),128))]),a.value?(n(),c("div",{key:0,class:"modal",onClick:t[2]||(t[2]=k(s=>a.value=null,["self"]))},[e("button",{class:"close-btn",onClick:t[1]||(t[1]=s=>a.value=null)},"×"),e("h2",null,o(a.value.title),1),e("p",$,"— "+o(a.value.author),1),e("embed",{src:a.value.pdfUrl,type:"application/pdf",width:"90%",height:"600px"},null,8,g)])):m("",!0)],64))}},S=y({__name:"index",setup(p){return(r,a)=>(n(),b(j))}});export{S as default};
